"use strict";var encurtar={getTopUrls:function(r){$.getJSON("assets/urls.json",function(t){var n={1:{hits:0,url:""},2:{hits:0,url:""},3:{hits:0,url:""},4:{hits:0,url:""},5:{hits:0,url:""}};t.map(function(t){for(var r=1;r<=6;r++)if(6==r)n[r-2].hits==n[r-1].hits&&(n[r-1].hits=t.hits,n[r-1].url=t.shortUrl);else if(t.hits>n[r].hits){for(var i=r+1;i<=5;i++)n[i].hits=n[i-1].hits,n[i].url=n[i-1].url;n[r].hits=t.hits,n[r].url=t.shortUrl;break}}),r(n)})},getTotalHits:function(i){$.getJSON("assets/urls.json",function(t){var r=0;t.map(function(t){r+=parseInt(t.hits)}),i(r)})},gerarLink:function(t,r,i){0<r.length?r.startsWith("http://")||r.startsWith("https://")||r.startsWith("www.")?i(t+"/"+Math.random().toString(36).substr(2,3)+Math.random().toString(36).substr(2,2)):modal.error("A URL informada é invalida!","Erro"):modal.error("O Campo de URL está vazio","Erro")},iniciar:function(){encurtar.getTopUrls(function(t){for(var r=1;r<=5;r++)console.log(t[r].url),$(".top ul").append("<li>\n                    <span>".concat(t[r].url,"</span>\n                    <span>").concat(t[r].hits,"</span>\n                </li>"))}),encurtar.getTotalHits(function(t){$("span.total-hits").text(t)}),$(".short button").click(function(){$("#encurtar").is(":visible")?encurtar.gerarLink("http://chr.dc",$("#short_inp").val(),function(t){$("#short_inp").val(t),$("#encurtar").is(":visible")&&($("#encurtar").fadeOut(300),setTimeout(function(){$("#copiar").fadeIn(300)},300))}):($("#short_inp").select(),document.execCommand("copy"),modal.success("Seu link foi copiado para área de transferência!","Sucesso"))}),$("#short_inp").keyup(function(){$("#copiar").is(":visible")&&($("#copiar").fadeOut(300),setTimeout(function(){$("#encurtar").fadeIn(300)},300))}),$(".loader-area").fadeOut(600)}};encurtar.iniciar();